# 4-1. 배열
- 배열 (array)은 여러 자료를 묶어서 활용할 수 있는 특수한 자료. 문자열을 일단 알아보자.
```js
const str = '안녕하세요'
console.log(str[2])
console.log(str[str.length - 1])
```
```text
하
요
```

## 배열 만들기
- 배열은 여러 개의 변수를 한 번에 선언해 다룰 수 있는 자료형. 배열은 대괄호 [] 사용해 내부의 값을 쉽표(,)로 구분해 입력.
- 배열 내부에 들어 있는 값을 요소(element)라 함. 어떠한 종류의 자료형도 요소가 될 수 있음.
```text
[요소, 요소, 요소, ..., 요소]
```
- 간단하게 배열을 만들어 출력해보자.
```js
const array = [273, 'String', true, function () {}, {}, [273, 103]]
console.log(array)
```
```text
[ 273, 'String', true, [Function (anonymous)], {}, [ 273, 103 ] ]
```

## 배열 요소에 접근하기
- 배열의 기본적인 조작은 문자열과 비슷. 각각의 요소에 접근하려면 배열 바로 뒤에 대괄호를 입력하고 그 안에 숫자를 넣음.
- 가장 앞에 있는 요소는 0번째이고, 이 때 요소의 순서를 인덱스(index)라고 함.
```text
배열[인덱스]
```
```js
const numbers = [273, 52, 103, 32]
console.log(numbers[0])
console.log(numbers[1])
console.log(numbers[1 + 1])
console.log(numbers[1 * 3])
```
```text
[ 273, 'String', true, [Function (anonymous)], {}, [ 273, 103 ] ]
273
52
103
32
```
- 배열은 여러 개의 요소를 갖기 때문에 일반적으로 복수형으로 이름을 지음. 그리고 대괄호 내에서 계산식을 넣을 수도 있음.

## 배열 요소 개수 확인하기
```text
배열.length
```
```js
const fruits = ['배', '사과', '키위', '바나나']
console.log(fruits.length)
console.log(fruits[fruits.length - 1])
```
```text
32
4
바나나
```
- fruits[fruits.length - 1] 처럼 배열의 마지막 요소를 선택할 때 자주 사용하는 패턴.

## 배열 뒷부분에 요소 추가하기
### push() 메소드를 사용해 배열 뒷부분에 요소 추가하기
```js
배열.push(요소)
```
```js
const todos = ['우유 구매', '업무 메일 확인하기', '필라테스 수업']
console.log(todos)
console.log(todos.push('저녁 식사 준비하기'))
console.log(todos.push('피아노 연습하기'))
console.log(todos)
```
```text
[ '우유 구매', '업무 메일 확인하기', '필라테스 수업' ]
4
5
[ '우유 구매', '업무 메일 확인하기', '필라테스 수업', '저녁 식사 준비하기', '피아노 연습하기' ]
```
- push() 메소드로 요소가 추가되어 기존 요소 개수에서 추가된 요소 개수가 출력됨.

### 인덱스를 사용해 배열 뒷부분에 요소 추가하기
- 자바스크립트에서 배열의 길이는 고정이 아님.
```js
const fruitsA = ['사과', '배', '바나나']
console.log(fruitsA[10] = '귤')
console.log(fruitsA)
```
```text
귤
[ '사과', '배', '바나나', <7 empty items>, '귤' ]
```
- 이때 4~9 요소는 아무 것도 없는 empty가 됨.
- 인덱스로 요소를 추가하는 방법을 활용하면 다음과 같이 length 속성을 사용해 배열의 마지막 위치에 요소를 추가 가능.
```js
const fruitsB = ['사과', '배', '바나나']
console.log(fruitsB[fruitsB.length] = '귤')
console.log(fruitsB)
```
```text
귤
[ '사과', '배', '바나나', '귤' ]
```

## 배열 요소 제거하기
- 배열에 요소를 제거하는 일반적인 방법은 2가지
1. 인덱스를 기반으로 제거하는 경우
2. 값을 기반으로 제거하는 경우

### 인덱스로 요소 제거하기
- splice() 메소드 사용.
- 접합(splice)은 다양하게 활용됨. 일부를 제거한 뒤 붙이는 것도 접합, 중간에 다른 요소를 넣고 붙이는 것도 접합. 즉, splice() 메소드는 요소를 제거할 때뿐만 아니라
요소를 중간에 넣을 때도 사용 가능.
```js
배열.splice(인덱스, 제거할 요소 개수)
```
```js
const itemsA = ['사과', '배', '바나나']
console.log(itemsA.splice(2, 1))
console.log(itemsA)
```
```text
[ '사과', '배', '바나나', '귤' ]
[ '바나나' ]
[ '사과', '배' ]
```

### 값으로 요소 제거하기
- 값을 기반으로 요소를 제거할 때는 indexOf()로 인덱스를 찾고, 값의 위치를 추출해 splice() 메소드를 사용해 제거
```js
const 인덱스 = 배열.indexOf(요소)
배열.splice(인덱스, 1)
```
- indexOf() 메소드는 배열 내부에 요소가 있을 경우 인덱스, 없을 경우 -1 리턴.
```js
const itemsB = ['사과', '배', '바나나']
const index = itemsB.indexOf('바나나')
console.log(index)
console.log(itemsB.splice(index, 1))
console.log(itemsB)
console.log(itemsB.indexOf('바나나'))
```
```text
2
[ '바나나' ]
[ '사과', '배' ]
-1
```
- 문자열에서도 indexOf() 메소드 사용 가능. 
```js
const stringA = '동해물과 백두산이 마르고 닳도록'
console.log(stringA.indexOf('백두산'))
```
```text
5
```
- indexOf() 메소드와 splice() 메소드는 배열 내부 요소를 하나만 제거 가능.
- 배열 내부에서 특정 값을 가진 요소를 모두 제거하고 싶을 때는 반복문 또는 filter() 메소드를 사용해야 함. 일반적으로 filter()를 많이 사용.
```js
const itemsE = ['사과', '배', '바나나', '귤', '귤']
console.log(itemsE.filter((item) => item !== '귤'))
```
```text
[ '사과', '배', '바나나' ]
```

## 배열의 특정 위치에 요소 추가하기
- 배열의 특정 위치에 요소를 추가하는 코드는 자주 사용하지는 않지만 간혹 사용.
- splice() 메소드를 사용, splice() 메소드의 2번째 매개변수에 0을 입력하면 splice() 메소드는 아무 것도 제거하지 않으며, 3번째 매개변수에 추가하고 싶은 요소를 입력
```js
배열.splice(인덱스, 0, 요소)
```
```js
const itemsD = ['사과', '귤', '바나나', '오렌지']
console.log(itemsD.splice(1, 0, '양파'))
console.log(itemsD)
```
```text
[]
[ '사과', '양파', '귤', '바나나', '오렌지' ]
```

## 자료의 비파괴와 파괴
- 자바스크립트는 자료 처리를 위해서 다양한 연산자, 함수, 메소드를 제공함.
- 자료 처리 연산자, 함수, 메소드는 크게 비파괴적 처리와 파괴적 처리로 구분 가능. 처리 후 원본의 상태 변화에 따라 구분함.
1. 비파괴적 처리 : 처리 후에 원본 내용이 변경되지 않음.
2. 파괴적 처리 : 처리 후에 원본 내용이 변경됨.

### 비파괴적 처리
- `+` 연산자로 문자열을 연결하는 경우를 생각해보자.
```js
const a = '안녕'
const b = '하세요'
const c = a + b
console.log(c)
console.log(a)
console.log(b)
```
```text
안녕하세요
안녕
하세요
```

### 파괴적 처리
- 반면 배열의 메소드들은 원본이 변경됨. push() 메소드를 실행한 뒤 array값을 살펴보면 원본과 다르다.
```js
const arr = ['사과', '배', '바나나']
console.log(arr)
console.log(arr.push('귤'))
console.log(arr)
```
```text
[ '사과', '배', '바나나' ]
4
[ '사과', '배', '바나나', '귤' ]
```
- 과거에는 컴퓨터 메모리가 많이 부족해 최대한 메모리를 절약해서 사용하는 방식으로 설계됨.
- 그나마 결과가 기본 자료형이면 메모리를 조금만 차지하기 때문에 원본과 결과를 모두 메모리에 저장해도 크게 무리가 없었음.
- 하지만 배열처럼 크기가 어느 정도인지 모르는 대상의 원본과 결과를 모두 메모리에 저장하는 것은 위험할 수 있음.
- 그래서 배열과 같이 거대해질 수 있는 자료는 메모리를 절약할 수 있게 대부분 파괴적 처리로 이루어짐. 다만 파괴적 처리는 메모리를 절약할 수 있지만, 원본이 사라지기 때문에 위험할 수 있음.
- 따라서 메모리가 여유로운 현대의 프로그래밍 언어와 라이브러리는 자료 보호를 위해서 대부분 비파괴적 처리를 함.

## 정리
- 여러 개의 변수를 한 번에 선언해 다룰 수 있는 자료형을 배열이라고 함.
- 배열 내부에 있는 값을 요소라고 함.
- 비파괴적 처리란 처리 후에 원본 내용이 변경되는 처리를 의미.

